<!--#include virtual="/ssi/header.shtml" -->
    <h1>Using siege to Test the Write Performance of CouchDB</h1>
    <div id="main">
      <p>
        Adding the parameter <code>--header "application/json"</code>
        did for some reason not work for me, siege still sent the
        wrong content type to couchdb.
      </p>
      <p>
        Adding <code>.json</code> to the standard file content type
        mapping in siege was easy, though. I uninstalled the
        pre-compiled version of siege, installed its source package,
        added JSON to its internal map, built the package and
        installed it with <code>dpkg</code>:
      </p>
      <pre># apt-get remove siege
# apt-src install siege
# cd /usr/src/siege-2.70
# vi src/load.c
# dpkg-buildpackage -rfakeroot -uc -b
# dpkg -i ../siege*.deb
</pre>
      <p>
        Siege will now send the correct content type for all POSTed
        files with suffix <coe>.json</coe> :-)
      </p>
      <p>
        I could then go a head and conduct <a
        href="/db/couchdb/testing-write-performance/">my tests of
        CouchDB's write performance</a>.
      </p>
    </div>
<!--#include virtual="/ssi/footer.shtml" -->
