<!--#include virtual="/ssi/header.shtml" -->
<!--#exec cgi="/cgi-bin/simple-h1.cgi" -->
    <div id="main">
      <p>
        <cite>What?!! Unit testing in BASH? You must be
        kidding!</cite> I can hear you say. However, unit testing your
        BASH code is not only possible, but straight out useful when
        your code grows and you want to limit regression bugs while
        adding new features.
      </p>
      <p>
        I've written a simple <a
        href="https://github.com/skybert/my-little-friends/blob/master/bash/bash_unit">
        BASH unit test library</a> which you can use like this,
        following the same construct of <code>message, expected,
        actual</code> parameters as <a
        href="http://junit.org">JUnit</a> uses:
      </p>
<pre class="prettyprint">
source /path/to/bash_unit

assert_equals "The fruit is wrong" "apples" "oranges"
assert_equals "One and one is two" 2 $(( 1 + 2 ))
assert_equals "One and one is two" 2 "three"
</pre>
      <p>
        <code>bash_unit</code> will output errors on the above tests:
      </p>
<pre class="prettyprint">
FAILED: The fruit is wrong: Expected &lt;apples&gt;, but was &lt;oranges&gt;
FAILED: One and one is two: Expected &lt;2&gt;, but was &lt;3&gt;
FAILED: One and one is two: Expected &lt;2&gt;, but was &lt;three&gt;
</pre>
      <p>
        As you can see, <code>bash_unit</code> supports strings
        and integers.
      </p>
      <p>
        If you'd like to view the positives, you set the
        <code>show_positives</code> variable to <code>1</code>:
      </p>
<pre class="prettyprint">
show_positives=1
assert_equals "The fruit is wrong" "apples" "apples"
assert_equals "One and one is two" 2 $(( 1 + 1 ))
assert_equals "One and one is two" 2 2
</pre>
      <p>
        Which then produces:
      </p>
<pre class="prettyprint">
PASSED: The fruit is wrong: Expected &lt;apples&gt; and got &lt;apples&gt;
PASSED: One and one is two: Expected &lt;2&gt; and got &lt;2&gt;
PASSED: One and one is two: Expected &lt;2&gt; and got &lt;2&gt;
</pre>
      <p>
        Happy unit testing!
      </p>
    </div>
<!--#include virtual="/ssi/footer.shtml" -->
