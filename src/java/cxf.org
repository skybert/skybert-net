#+title: Apache CXF

These are my notes on using Apache CXF.

* Problem
#+begin_src text
Caused by: java.lang.ClassNotFoundException: org.springframework.beans.factory.xml.AbstractSingleBeanDefinitionParser from [Module "org.apache.cxf:main" from local module loader @2b672c8c (finder: local module finder @29db197 (roots: /opt/jboss-eap-6.2/modules,/opt/jboss-eap-6.2/modules/system/layers/base))]
  at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:197) [jboss-modules.jar:1.3.0.Final-redhat-2]
  at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) [jboss-modules.jar:1.3.0.Final-redhat-2]
  at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) [jboss-modules.jar:1.3.0.Final-redhat-2]
  at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) [jboss-modules.jar:1.3.0.Final-redhat-2]
  at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) [jboss-modules.jar:1.3.0.Final-redhat-2]
  ... 82 more
#+end_src

* Solution
The JBoss cxf module doesn't have access to a JBoss module with
Spring (Spring's not shipped with JBoss).

One solution is to exclude the webservices sub system in JBoss:
#+begin_src text nxml
<?xml version="1.0" encoding="UTF-8"?>
<jboss-deployment-structure>
   <deployment>
      <exclude-subsystems>
         <subsystem name="webservices" />
      </exclude-subsystems>
   </deployment>
</jboss-deployment-structure>
#+end_src
